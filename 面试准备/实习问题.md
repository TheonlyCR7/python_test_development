### **针对登录权限，你是如何进行测试的？**

**回答（1分30秒）：**
主要分三个步骤：

1. **接口测试**：用Postman手动测试不同角色账号的登录，比如普通民警登录后只能访问案件查询接口，而管理员还能访问数据统计接口。发现1个权限配置错误：管理员本该有导出权限但实际返回403错误。
2. **自动化验证**：用Python+Pytest写脚本批量测试，比如用参数化测试10种账号组合：
   - 正常登录后检查Cookie有效期
   - 用错误密码连续登录5次触发账号锁定
   - 测试修改URL中的用户ID越权访问他人数据
     最终自动化覆盖了90%的权限场景。
3. **数据库配合**：在MySQL中直接修改用户权限字段（如把is_admin从0改为1），验证前端是否能正确显示管理员菜单，发现1个前端未做二次鉴权的问题。



### **问题2：针对登录权限，你是如何进行测试的？**

**回答（1分30秒）：**
主要分三个步骤：

1. **接口测试**：用Postman手动测试不同角色账号的登录，比如普通民警登录后只能访问案件查询接口，而管理员还能访问数据统计接口。发现1个权限配置错误：管理员本该有导出权限但实际返回403错误。
2. **自动化验证**：用Python+Pytest写脚本批量测试，比如用参数化测试10种账号组合：
   - 正常登录后检查Cookie有效期
   - 用错误密码连续登录5次触发账号锁定
   - 测试修改URL中的用户ID越权访问他人数据
     最终自动化覆盖了90%的权限场景。
3. **数据库配合**：在MySQL中直接修改用户权限字段（如把is_admin从0改为1），验证前端是否能正确显示管理员菜单，发现1个前端未做二次鉴权的问题。



### **问题3：描述一个具体的测试场景**

**回答（1分40秒）：**
**测试目标**：民警登录后只能看到本辖区的案件数据。

**实施过程**：

1. **数据准备**：
   - Linux下用MySQL插入测试数据：A/B/C三个辖区各20条案件
   - 创建两个测试账号：userA（属于A辖区）、userB（属于B辖区）
2. **正向测试**：
   - 用Postman以userA登录，调用案件查询接口，检查返回数据中辖区字段是否全是A
   - 用Python脚本自动统计返回结果数量，确保正好20条
3. **异常测试**：
   - 手动修改接口请求中的辖区参数为B，userA发起请求后检查是否返回"无权访问"
   - 发现1个缺陷：后端虽然拦截了请求，但错误信息暴露了数据库表结构
4. **数据清理**：
   - 写Linux shell脚本定时清空测试数据，避免影响后续测试



### **问题4：遇到的bug有哪些？举例子，至少两个**

**回答（1分20秒）：**
**案例1：登录状态异常**

- **现象**：用户退出登录后，浏览器回退按钮仍能查看之前页面
- **原因**：前端未清除本地缓存，后端未校验登录状态
- **解决**：在Python测试脚本中加入localStorage清理步骤，后端增加登录态校验中间件

**案例2：数据重复显示**

- **现象**：案件查询结果出现重复数据
- 跟踪过程：
  1. 用Postman反复调用接口复现问题
  2. 在MySQL中执行相同SQL语句，发现查询结果正常
  3. 最终发现是Python后端分页逻辑错误：页码计算时未重置偏移量
- **解决**：修改分页算法后增加10组边界值测试用例