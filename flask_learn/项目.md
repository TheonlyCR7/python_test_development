# Flask框架核心知识点

## 1. 基础架构
### 1.1 应用初始化
#### 1.1.1 实例创建
#### 1.1.2 配置管理
##### - 类配置继承
##### - 环境变量加载
##### - 动态配置切换
#### 1.1.3 工厂模式
##### - create_app()设计
##### - 延迟初始化

### 1.2 路由系统
#### 1.2.1 路由装饰器
##### - 动态参数
##### - 请求方法限定
#### 1.2.2 蓝图系统
##### - 模块化路由
##### - 静态文件管理
##### - 模板覆盖规则

## 2. 数据库集成
### 2.1 SQLAlchemy ORM
#### 2.1.1 模型定义
##### - 字段类型
##### - 关系映射
#### 2.1.2 会话管理
##### - 连接池配置
##### - 事务控制
#### 2.1.3 查询优化
##### - 预加载策略
##### - 分页实现

### 2.2 Redis缓存
#### 2.2.1 连接池配置
#### 2.2.2 数据结构应用
##### - String存储验证码
##### - Hash存储用户信息
#### 2.2.3 缓存策略
##### - 过期时间设置
##### - 缓存穿透防护

## 3. 用户认证体系
### 3.1 安全机制
#### 3.1.1 密码安全
##### - 加盐哈希
##### - 强度验证
#### 3.1.2 会话管理
##### - Flask-Login集成
##### - JWT实现

### 3.2 验证码系统
#### 3.2.1 图形验证码
##### - Pillow生成
##### - 前端交互
#### 3.2.2 邮箱验证码
##### - 随机生成算法
##### - Redis存储验证

## 4. 请求处理流程
### 4.1 请求上下文
#### 4.1.1 请求对象解析
##### - GET/POST参数
##### - 文件上传处理
#### 4.1.2 响应构建
##### - JSON序列化
##### - 自定义状态码

### 4.2 中间件机制
#### 4.2.1 前置处理器
##### - 身份预验证
##### - 请求日志
#### 4.2.2 后置处理器
##### - 统一响应格式
##### - CORS处理

## 5. 测试体系
### 5.1 单元测试
#### 5.1.1 pytest框架
##### - Fixture使用
##### - 参数化测试
#### 5.1.2 Mock技术
##### - 数据库模拟
##### - 第三方服务模拟

### 5.2 集成测试
#### 5.2.1 测试客户端
##### - 请求模拟
##### - 上下文管理
#### 5.2.2 数据库回滚
##### - 事务隔离
##### - 测试数据工厂

## 6. 生产部署
### 6.1 服务器配置
#### 6.1.1 Gunicorn
##### - Worker配置
##### - 心跳检测
#### 6.1.2 Nginx
##### - 反向代理
##### - 负载均衡

### 6.2 容器化方案
#### 6.2.1 Dockerfile
##### - 多阶段构建
##### - 依赖优化
#### 6.2.2 编排部署
##### - Docker Compose
##### - 服务发现

## 7. 项目优化实践
### 7.1 性能优化
#### 7.1.1 数据库优化
##### - 索引策略
##### - 慢查询监控
#### 7.1.2 缓存应用
##### - 热点数据缓存
##### - 缓存更新策略

### 7.2 安全加固
#### 7.2.1 常见漏洞防护
##### - XSS过滤
##### - CSRF令牌
#### 7.2.2 请求验证
##### - 参数校验
##### - 频率限制

